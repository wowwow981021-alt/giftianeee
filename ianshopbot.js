const { Telegraf, Markup } = require('telegraf');

/**
 * âš ï¸ BotFatherì—ì„œ ë°›ì€ ì‹¤ì œ ë´‡ í† í°ìœ¼ë¡œ êµì²´í•˜ì„¸ìš”
 */
const bot = new Telegraf('7850282152:AAEgDtODdNPQeBe7qa1waZuy_Mh2zGD8wEM');

// â–¶ ì‹œì‘ (/start)
bot.start((ctx) => {
  ctx.reply(
    'IAN SHOPì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤ ğŸ›\n\nì›í•˜ì‹œëŠ” ë¬¸ì˜ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.',
    Markup.keyboard([
      ['ìƒí’ˆ ë¬¸ì˜', 'ë°°ì†¡ ë¬¸ì˜'],
      ['ìƒë‹´ì› ì—°ê²°']
    ]).resize()
  );
});

// â–¶ ìƒí’ˆ ë¬¸ì˜ (ë²„íŠ¼)
bot.hears('ìƒí’ˆ ë¬¸ì˜', (ctx) => {
  ctx.reply(
    'ğŸ› ìƒí’ˆ ë¬¸ì˜ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤\n\n' +
    'IAN SHOPì—ì„œëŠ” ë‹¤ìŒ ì˜ë¥˜ë¥¼ íŒë§¤ ì¤‘ì…ë‹ˆë‹¤.\n' +
    'â€¢ í›„ë“œí‹°\n' +
    'â€¢ ë§¨íˆ¬ë§¨\n' +
    'â€¢ ë°ë‹˜ ìì¼“\n' +
    'â€¢ ìŠ¬ë™ìŠ¤\n\n' +
    'ì›í•˜ì‹œëŠ” ìƒí’ˆì´ë‚˜ ì‚¬ì´ì¦ˆ, ìƒ‰ìƒì„ ë§ì”€í•´ ì£¼ì„¸ìš”.',
    Markup.keyboard([
      ['ìƒí’ˆ ë¬¸ì˜', 'ë°°ì†¡ ë¬¸ì˜'],
      ['ìƒë‹´ì› ì—°ê²°']
    ]).resize()
  );
});

// â–¶ ë°°ì†¡ ë¬¸ì˜ (ë²„íŠ¼)
bot.hears('ë°°ì†¡ ë¬¸ì˜', (ctx) => {
  ctx.reply(
    'ğŸ“¦ ë°°ì†¡ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤\n\n' +
    'ê²°ì œ ì™„ë£Œ ê¸°ì¤€ í‰ê·  2~3ì˜ì—…ì¼ ë‚´ ë°°ì†¡ë©ë‹ˆë‹¤.\n' +
    'ì£¼ë§ ë° ê³µíœ´ì¼ì€ ì œì™¸ë©ë‹ˆë‹¤.\n' +
    'ì§€ì—­ ë° íƒë°°ì‚¬ ì‚¬ì •ì— ë”°ë¼ ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
    Markup.keyboard([
      ['ìƒí’ˆ ë¬¸ì˜', 'ë°°ì†¡ ë¬¸ì˜'],
      ['ìƒë‹´ì› ì—°ê²°']
    ]).resize()
  );
});

// â–¶ ìƒë‹´ì› ì—°ê²° (ë²„íŠ¼)
bot.hears('ìƒë‹´ì› ì—°ê²°', (ctx) => {
  ctx.reply(
    'ğŸ‘¤ ìƒë‹´ì› ì—°ê²° ì•ˆë‚´\n\n' +
    'ìƒë‹´ì›: @ianparka\n' +
    'ìƒë‹´ ì‹œê°„: ì˜¤ì „ 9ì‹œ ~ ì˜¤í›„ 6ì‹œ\n\n' +
    'ìƒë‹´ ì‹œê°„ ì™¸ì—ëŠ” ë‹µë³€ì´ ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
    Markup.keyboard([
      ['ìƒí’ˆ ë¬¸ì˜', 'ë°°ì†¡ ë¬¸ì˜'],
      ['ìƒë‹´ì› ì—°ê²°']
    ]).resize()
  );
});

// â–¶ ììœ  í…ìŠ¤íŠ¸ ìë™ ì‘ë‹µ (í‚¤ì›Œë“œ ì¸ì‹)
bot.on('text', (ctx) => {
  const text = ctx.message.text;

  // ìƒí’ˆ ê´€ë ¨
  if (
    text.includes('ìƒí’ˆ') ||
    text.includes('ì˜·') ||
    text.includes('ì˜ë¥˜') ||
    text.includes('í›„ë“œ') ||
    text.includes('ìì¼“') ||
    text.includes('ë§¨íˆ¬ë§¨') ||
    text.includes('ìŠ¬ë™ìŠ¤')
  ) {
    return ctx.reply(
      'ğŸ› ìƒí’ˆ ê´€ë ¨ ë¬¸ì˜ ê°ì‚¬í•©ë‹ˆë‹¤.\n\n' +
      'í˜„ì¬ IAN SHOPì—ì„œëŠ” ìºì£¼ì–¼ ì˜ë¥˜ë¥¼ íŒë§¤ ì¤‘ì…ë‹ˆë‹¤.\n' +
      'ì›í•˜ì‹œëŠ” ìƒí’ˆì„ ì¡°ê¸ˆ ë” ìì„¸íˆ ë§ì”€í•´ ì£¼ì„¸ìš”.',
      Markup.keyboard([
        ['ìƒí’ˆ ë¬¸ì˜', 'ë°°ì†¡ ë¬¸ì˜'],
        ['ìƒë‹´ì› ì—°ê²°']
      ]).resize()
    );
  }

  // ë°°ì†¡ ê´€ë ¨
  if (
    text.includes('ë°°ì†¡') ||
    text.includes('ì–¸ì œ') ||
    text.includes('ë©°ì¹ ') ||
    text.includes('ë„ì°©')
  ) {
    return ctx.reply(
      'ğŸ“¦ ë°°ì†¡ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.\n\n' +
      'ê²°ì œ ì™„ë£Œ í›„ í‰ê·  2~3ì˜ì—…ì¼ ë‚´ ë°°ì†¡ë©ë‹ˆë‹¤.',
      Markup.keyboard([
        ['ìƒí’ˆ ë¬¸ì˜', 'ë°°ì†¡ ë¬¸ì˜'],
        ['ìƒë‹´ì› ì—°ê²°']
      ]).resize()
    );
  }

  // ìƒë‹´ì› ê´€ë ¨
  if (
    text.includes('ìƒë‹´') ||
    text.includes('ì‚¬ëŒ') ||
    text.includes('ì§ì›')
  ) {
    return ctx.reply(
      'ğŸ‘¤ ìƒë‹´ì› ì—°ê²° ì•ˆë‚´\n\n' +
      'ìƒë‹´ì›: @ianparka\n' +
      'ìƒë‹´ ì‹œê°„: ì˜¤ì „ 9ì‹œ ~ ì˜¤í›„ 6ì‹œ',
      Markup.keyboard([
        ['ìƒí’ˆ ë¬¸ì˜', 'ë°°ì†¡ ë¬¸ì˜'],
        ['ìƒë‹´ì› ì—°ê²°']
      ]).resize()
    );
  }

  // ê¸°ë³¸ ì‘ë‹µ (ë²„íŠ¼ ë‹¤ì‹œ í‘œì‹œ)
  ctx.reply(
    'ë¬¸ì˜ ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ˜Š\n\nì•„ë˜ ë²„íŠ¼ì„ ì´ìš©í•´ ì£¼ì„¸ìš”.',
    Markup.keyboard([
      ['ìƒí’ˆ ë¬¸ì˜', 'ë°°ì†¡ ë¬¸ì˜'],
      ['ìƒë‹´ì› ì—°ê²°']
    ]).resize()
  );
});

// â–¶ ë´‡ ì‹¤í–‰
bot.launch();
console.log('IAN SHOP ë´‡ ì‹¤í–‰ ì¤‘...');
