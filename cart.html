<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ì¥ë°”êµ¬ë‹ˆ | IAN SHOP</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    // í…”ë ˆê·¸ë¨ WebApp ê°•ì œ í™•ì¥ (ëª¨ë°”ì¼ ìµœì í™”)
    (function() {
      function forceExpand() {
        if (window.Telegram && window.Telegram.WebApp) {
          try {
            window.Telegram.WebApp.ready();
            window.Telegram.WebApp.expand();
            if (window.Telegram.WebApp.viewportHeight) {
              window.Telegram.WebApp.expand();
            }
          } catch (e) {
            console.error('í…”ë ˆê·¸ë¨ WebApp í™•ì¥ ì˜¤ë¥˜:', e);
          }
        }
      }
      forceExpand();
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', forceExpand);
      }
      setTimeout(forceExpand, 100);
      setTimeout(forceExpand, 500);
      window.addEventListener('load', forceExpand);
    })();
  </script>
</head>
<body>

<h1>ğŸ›’ ì¥ë°”êµ¬ë‹ˆ</h1>

<div class="page-nav">
<a href="index.html"><button>ğŸ  ë©”ì¸ í™”ë©´ìœ¼ë¡œ</button></a>
<a href="index.html"><button>â¬… ì´ì „ í™”ë©´</button></a>
  <a href="support.html"><button class="support-btn">ğŸ’¬ ê³ ê° ìƒë‹´</button></a>
</div>

<hr>

<div id="cartItems"></div>

<div id="cartDiscount" style="display: none; padding: 10px; margin: 10px 0; background: #e8f5e9; border-radius: 5px; color: #2e7d32;"></div>

<div id="cartTotal" style="padding: 15px; margin: 15px 0; background: #f5f5f5; border-radius: 8px;"></div>

<hr>

<h3>ğŸ« ì¿ í°/í• ì¸</h3>
<div style="padding: 15px; background: #fff; border-radius: 8px; margin-bottom: 15px;">
  <div id="couponStatus" style="margin-bottom: 10px;"></div>
  <div>
    <input type="text" 
           id="couponCode" 
           placeholder="ì¿ í° ì½”ë“œ ì…ë ¥ (ì˜ˆ: WELCOME10)"
           style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px; box-sizing: border-box; margin-bottom: 10px;"
           onkeypress="if(event.key === 'Enter') applyCoupon()">
    <button onclick="applyCoupon()" style="width: 100%; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 16px;">ì¿ í° ì ìš©</button>
  </div>
  <div style="margin-top: 10px; font-size: 0.85em; color: #666;">
    <strong>í…ŒìŠ¤íŠ¸ ì¿ í°:</strong><br>
    â€¢ WELCOME10 - 10% í• ì¸<br>
    â€¢ SAVE5000 - 5,000ì› í• ì¸<br>
    â€¢ SUMMER20 - 20% í• ì¸<br>
    â€¢ TEST100 - 100% í• ì¸ 
  </div>
</div>

<hr>

<a href="order.html"><button style="width: 100%; padding: 15px; font-size: 1.1em; background: #2196F3; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">ì£¼ë¬¸ì„œ ì‘ì„±í•˜ê¸°</button></a>

<script src="cart.js"></script>
<script>
// í…”ë ˆê·¸ë¨ WebApp ì´ˆê¸°í™” (ì´ë¯¸ ìœ„ì—ì„œ ì²˜ë¦¬ë¨)

// ì¥ë°”êµ¬ë‹ˆ ë Œë”ë§ ë° ì´ˆê¸° ì´ì•¡ ê³„ì‚°
renderCart();
</script>

</body>
</html>
